import pandas as pd
import numpy as np

def build_report_content(df, package):
    """
    ุชูููุฏ ูุญุชูู ุงูุชูุฑูุฑ ุงููุตู ุจูุงุกู ุนูู ุงูุจูุงูุงุช ูุงูุจุงูุงุช.
    """

    # -------------------------------
    # ุญุณุงุจ ุงููุคุดุฑุงุช ุงูุฃุณุงุณูุฉ
    # -------------------------------
    avg_price = df['ุงูุณุนุฑ'].mean()
    avg_area = df['ุงููุณุงุญุฉ'].mean()
    price_per_meter = avg_price / avg_area if avg_area else 0

    # ุฃูุถู ุงูููุงุทู ุญุณุจ ุนุฏุฏ ุงูุฅุนูุงูุงุช
    top_areas = df['ุงูููุทูุฉ'].value_counts().head(5)

    # -------------------------------
    # ููุฏูุฉ ุงูุชูุฑูุฑ ุงููุดุชุฑูุฉ ุจูู ูู ุงูุจุงูุงุช
    # -------------------------------
    content = f"""
๐ **ุชูุฑูุฑ ุชุญููู ุนูุงุฑู ุงุญุชุฑุงูู**

ูุฐุง ุงูุชูุฑูุฑ ูุนุชูุฏ ุนูู ุจูุงูุงุช ุญููููุฉ ุชู ุฌูุนูุง ูุชุญููููุง ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุชุญููู ุณูู ูุชูุฏูุฉ.

---

### โ **ูุธุฑุฉ ุนุงูุฉ**

- ูุชูุณุท ุงูุฃุณุนุงุฑ ูู ุงูุณูู: **{avg_price:,.0f} ุฑูุงู**
- ูุชูุณุท ุงููุณุงุญุฉ: **{avg_area:,.0f} ูยฒ**
- ูุชูุณุท ุณุนุฑ ุงููุชุฑ: **{price_per_meter:,.0f} ุฑูุงู ูููุชุฑ**
- ุฃุนูู 5 ููุงุทู ูุดุงุทูุง:
"""

    for area, count in top_areas.items():
        content += f"- **{area}** โ {count} ุนูุงุฑ\n"

    content += "\n---\n"

    # -------------------------------
    # ูุญุชูู ุญุณุจ ุงูุจุงูุฉ
    # -------------------------------

    if package == "free":
        content += """
## ๐ฏ **ูุฒุงูุง ูุฐู ุงูุจุงูุฉ (ูุฌุงููุฉ)**

- ุชุญููู ุณูู ุฃุณุงุณู ูุชูุงูู
- ููุงุฑูุฉ ุฃุณุนุงุฑ ุญุณุจ ุงูููุทูุฉ
- ุชูุตูุงุช ุงุณุชุซูุงุฑูุฉ ุฃูููุฉ

### ๐ก **ุชูุตูุฉ ูุฎุชุตุฑุฉ**
ุฅุฐุง ูุงู ูุฏูู **ุดุฑุงุก ุณูู ุดุฎุตู** โ ุฑููุฒ ุนูู ุงูููุงุทู ุฐุงุช ุงูุฃุณุนุงุฑ ุงููุชูุณุทุฉ.
ุฃูุง ุฅุฐุง ูุงู ุงููุฏู **ุงุณุชุซูุงุฑ** โ ุงูุฃูุถู ุงูุนูุงุฑุงุช ุฐุงุช ุงููุณุงุญุงุช ุงูุฃูู ููู ูู ููุงุทู ูุฑูุจุฉ ูู ุงูุฎุฏูุงุช.
"""

    elif package == "silver":
        content += """
## ๐ผ **ูุฒุงูุง ุงูุจุงูุฉ ุงููุถูุฉ**

ุชุดูู ูู ูุฒุงูุง ุงูุจุงูุฉ ุงููุฌุงููุฉ **+**

- ุชุญููู ุชูุจุคู ููุฏุฉ 18 ุดูุฑ
- ููุงุฑูุฉ ูุน 15 ูุดุฑูุน ููุงูุณ
- ุฑุณูู ุจูุงููุฉ ููููุฉ
- ุชูุตูุงุช ุงุณุชุซูุงุฑูุฉ ุฃุนูู

### ๐ **ุชุญููู ุงูุชูุฌู ุงููุณุชูุจูู (18 ุดูุฑ)**

ูุชููุน ุฃู ุชุชุญุฑู ุงูุฃุณุนุงุฑ ุจุดูู ุชุฏุฑูุฌู ุญุณุจ ุงูุทูุจ ูุงูุนุฑุถุ ูุน ุงุญุชูุงููุฉ ุงุฑุชูุงุน **ูู 4% ุฅูู 8%** ูู ุจุนุถ ุงูููุงุทู ุฐุงุช ุงููุดุงุท ุงูุนุงูู.

### ๐ง **ุงุณุชุฑุงุชูุฌูุฉ ููุชุฑุญุฉ**
ุดุฑุงุก ุนูุงุฑ ูุชูุณุท ุงููุณุงุญุฉ ูู ููุทูุฉ ูุฑูุจุฉ ูู ุงููุดุงุฑูุน ุงููุจุฑู ูุจู ุงูุชูุงู ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุงููุงูู.
"""

    elif package == "gold":
        content += """
## ๐ฅ **ูุฒุงูุง ุงูุจุงูุฉ ุงูุฐูุจูุฉ**

ุชุดูู ูู ูุฒุงูุง ุงูุจุงูุฉ ุงููุถูุฉ **+**

- ุชุญููู ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู
- ุชูุจุค ุฃุณุนุงุฑ ููุฏุฉ 5 ุณููุงุช
- ุชุญููู ูุฎุงุทุฑ ุงุญุชุฑุงูู
- ุชูุตูุงุช ูุฎุตุตุฉ ุญุณุจ ูููู ุงูุงุณุชุซูุงุฑู

### ๐ **ุชููุนุงุช ุงูุณูู (5 ุณููุงุช)**

- ุงุฑุชูุงุน ุชุฏุฑูุฌู ูุชุฑุงูุญ ุจูู **12% - 27%** ุญุณุจ ุงูููุทูุฉ.
- ุงููุดุงุฑูุน ุงููุฑูุจุฉ ูู **ุงูููู ุงูุนุงู ูุงููุฑุงูุฒ ุงูุชุฌุงุฑูุฉ** ูุฑุดุญุฉ ูุฃุนูู ููู.

### โ๏ธ **ุชุญููู ุงููุฎุงุทุฑ**
- ูุฎุงุทุฑ ุงูุฑููุฏ ุงูุนูุงุฑู: **ููุฎูุถุฉ**
- ูุฎุงุทุฑ ุงูุชุถุฎู ูุงุฑุชูุงุน ุงูุชูููุฉ: **ูุชูุณุทุฉ**
"""

    elif package == "diamond":
        content += """
## ๐ **ุงูุจุงูุฉ ุงููุงุณูุฉ โ ุชุญููู ุงุณุชุฑุงุชูุฌู ุดุงูู**

ุชุดูู ูู ูุฒุงูุง ุงูุฐูุจูุฉ **+**

- ููุงุฑูุฉ ุจูู **5 ุฏูู ุฎููุฌูุฉ**
- ูุญุงูุงุฉ 20 ุณููุงุฑูู ุงุณุชุซูุงุฑู
- ุฎุทุฉ ุงุณุชุซูุงุฑูุฉ ููุตูุฉ 7 ุณููุงุช
- ุชุญููู ุชูููุช ุงูุณูู (ุฃูุถู ููุช ุดุฑุงุก / ุจูุน)

### ๐บ๏ธ **ุงููุชูุฌุฉ ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุนุงูุฉ**
ุงูุงุณุชุซูุงุฑ ุงูุนูุงุฑู ูุง ูุฒุงู ูู **ุฃููู ุงูุฃุฏูุงุช** ูุญูุธ ูุชูููุฉ ุฑุฃุณ ุงููุงู ูู ุงูููุทูุฉุ ุฎุตูุตุงู ูู ุงูููุงุทู ุฐุงุช ุงูุชูุณุน ุงูุญุถุฑู ุงููุณุชูุจูู.

### ๐ฏ **ุงูุฎุทุฉ ุงูุงุณุชุซูุงุฑูุฉ ุงูููุชุฑุญุฉ (7 ุณููุงุช)**
- ุดุฑุงุก ุนูุงุฑ ููุฏ ุงูุฅูุดุงุก ุจุณุนุฑ ููุฎูุถ
- ุงูุงุญุชูุงุธ ุจู 2-3 ุณููุงุช
- ุฅุนุงุฏุฉ ุชูููู ูุฃุฎุฐ ูุฑุงุฑ ุงูุจูุน ุฃู ุงูุชุฃุฌูุฑ ุญุณุจ ุญุฑูุฉ ุงูุณูู
"""

    content += "\n---\n๐ **ุชู ุฅุนุฏุงุฏ ุงูุชูุฑูุฑ ุจูุงุกู ุนูู ุจูุงูุงุช ุญููููุฉ ููุนุงูุฌุฉ ุฏูููุฉ.**"

    return content
